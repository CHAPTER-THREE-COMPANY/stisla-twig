{% extends 'table.html.twig' %}

{% block title %}{{title}}{% endblock %}

{% block body %}
    <h4 class="m-2">お知らせ登録<a class="btn btn-primary m-2" href="{{ path('news_new') }}">新規作成</a></h4>

    <div class="card">
        <table class="table table-hover">
            <thead>
            <tr class="small">
                <th scope="col">No</th>
                <th scope="col">区分</th>
                <th scope="col">タイトル</th>
                <th scope="col">内容</th>
                <th scope="col">掲載開始日</th>
                <th scope="col">掲載終了日</th>
                <th scope="col"></th>
            </tr>
            </thead>
            <tbody>
            {% for news in news %}
                <tr class="small">
                    <td>{{ news.id }}</td>
                    <td>{{ news.Division }}</td>
                    <td>{{ news.Title }}</td>
                    <td>{{ news.Contents|striptags|u.truncate(8,"...") }}</td>
                    <td>{{ news.DateStart ? news.DateStart|date('Y/m/d') : '' }}</td>
                    <td>{{ news.DateEnd ? news.DateEnd|date('Y/m/d') : '' }}</td>
                    <td class="form-inline">
                        <a class="btn btn-primary" href="{{ path('news_show', {'id': news.id}) }}">閲覧</a>
                        <a class="btn btn-warning" href="{{ path('news_edit', {'id': news.id}) }}">編集</a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="7">お知らせがありません</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>


{% endblock %}
