/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/tooltip.js@1.3.1/dist/esm/tooltip.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import e from"popper.js";
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.3.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var t=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"},o=function(){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this),t=i({},n,t),e.jquery&&(e=e[0]),this.reference=e,this.options=t;var s="string"==typeof t.trigger?t.trigger.split(" ").filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(e,s,t)}return t(o,[{key:"_create",value:function(e,t,i,n){var o=window.document.createElement("div");o.innerHTML=t.trim();var r=o.childNodes[0];r.id="tooltip_"+Math.random().toString(36).substr(2,10),r.setAttribute("aria-hidden","false");var s=o.querySelector(this.options.innerSelector);return this._addTitleContent(e,i,n,s),r}},{key:"_addTitleContent",value:function(e,t,i,n){if(1===t.nodeType||11===t.nodeType)i&&n.appendChild(t);else if((r=t)&&"[object Function]"==={}.toString.call(r)){var o=t.call(e);i?n.innerHTML=o:n.textContent=o}else i?n.innerHTML=t:n.textContent=t;var r}},{key:"_show",value:function(t,n){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var o=t.getAttribute("title")||n.title;if(!o)return this;var r=this._create(t,n.template,o,n.html);t.setAttribute("aria-describedby",r.id);var s=this._findContainer(n.container,t);return this._append(r,s),this._popperOptions=i({},n.popperOptions,{placement:n.placement}),this._popperOptions.modifiers=i({},this._popperOptions.modifiers,{arrow:{element:this.options.arrowSelector},offset:{offset:n.offset}}),n.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:n.boundariesElement}),this.popperInstance=new e(t,r,this._popperOptions),this._tooltipNode=r,this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var e=this;return this._events.forEach((function(t){var i=t.func,n=t.event;e.reference.removeEventListener(n,i)})),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}},{key:"_findContainer",value:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(e,t,i){var n=this,o=[],r=[];t.forEach((function(e){switch(e){case"hover":o.push("mouseenter"),r.push("mouseleave");break;case"focus":o.push("focus"),r.push("blur");break;case"click":o.push("click"),r.push("click")}})),o.forEach((function(t){var o=function(t){!0!==n._isOpening&&(t.usedByTooltip=!0,n._scheduleShow(e,i.delay,i,t))};n._events.push({event:t,func:o}),e.addEventListener(t,o)})),r.forEach((function(t){var o=function(t){!0!==t.usedByTooltip&&n._scheduleHide(e,i.delay,i,t)};n._events.push({event:t,func:o}),e.addEventListener(t,o),"click"===t&&i.closeOnClickOutside&&document.addEventListener("mousedown",(function(t){if(n._isOpening){var i=n.popperInstance.popper;e.contains(t.target)||i.contains(t.target)||o(t)}}),!0)}))}},{key:"_scheduleShow",value:function(e,t,i){var n=this;this._isOpening=!0;var o=t&&t.show||t||0;this._showTimeout=window.setTimeout((function(){return n._show(e,i)}),o)}},{key:"_scheduleHide",value:function(e,t,i,n){var o=this;this._isOpening=!1;var r=t&&t.hide||t||0;window.setTimeout((function(){if(window.clearTimeout(o._showTimeout),!1!==o._isOpen&&document.body.contains(o._tooltipNode)){if("mouseleave"===n.type)if(o._setTooltipNodeEvent(n,e,t,i))return;o._hide(e,i)}}),r)}},{key:"_updateTitleContent",value:function(e){if(void 0!==this._tooltipNode){var t=this._tooltipNode.parentNode.querySelector(this.options.innerSelector);this._clearTitleContent(t,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,e,this.options.html,t),this.options.title=e,this.popperInstance.update()}else void 0!==this.options.title&&(this.options.title=e)}},{key:"_clearTitleContent",value:function(e,t,i){1===i.nodeType||11===i.nodeType?t&&e.removeChild(i):t?e.innerHTML="":e.textContent=""}}]),o}(),r=function(){var e=this;this.show=function(){return e._show(e.reference,e.options)},this.hide=function(){return e._hide()},this.dispose=function(){return e._dispose()},this.toggle=function(){return e._isOpen?e.hide():e.show()},this.updateTitleContent=function(t){return e._updateTitleContent(t)},this._events=[],this._setTooltipNodeEvent=function(t,i,n,o){var r=t.relatedreference||t.toElement||t.relatedTarget;return!!e._tooltipNode.contains(r)&&(e._tooltipNode.addEventListener(t.type,(function n(r){var s=r.relatedreference||r.toElement||r.relatedTarget;e._tooltipNode.removeEventListener(t.type,n),i.contains(s)||e._scheduleHide(i,o.delay,o,r)})),!0)}};export{o as default};
